<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algorithmic Pattern Generator</title>
    <link rel="stylesheet" href="styles.css">
    <script src="dynamic-layout.js"></script>
</head>
<body>
    <div id="app">
        <!-- Title (top-left, no border/background) -->
        <div id="title-container" class="control-group top-left">
            <h1 id="title">Algorithmic Pattern Generator</h1>
        </div>

        <!-- Simulation selector (top) -->
        <div id="simulation-container" class="control-group dynamic-position">
            <div class="simulation-selector">
                <label for="simulation-select" id="simulation-label">Simulation:</label>
                <select id="simulation-select">
                    <option value="conway" id="conway-option">Conway's Game of Life</option>
                    <option value="termite" id="termite-option">Termite Algorithm</option>
                    <option value="langton" id="langton-option">Langton's Ant</option>
                </select>
            </div>
        </div>

        <!-- Start/Pause and Speed controls (top) -->
        <div id="playback-container" class="control-group dynamic-position">
            <button id="start-pause-btn" class="btn primary">Start</button>
            
            <!-- Conway's Game of Life specific controls -->
            <div id="conway-controls" class="simulation-controls" style="display: none;">
                <div class="control-group">
                    <label for="speed-slider">Speed:</label>
                    <input type="range" id="speed-slider" min="1" max="60" value="30" class="slider">
                    <span id="speed-value">30 steps/s</span>
                </div>
            </div>
            
            <!-- Termite Algorithm specific controls -->
            <div id="termite-controls" class="simulation-controls" style="display: none;">
                <div class="control-group">
                    <label for="termite-speed-slider">Speed:</label>
                    <input type="range" id="termite-speed-slider" min="1" max="60" value="30" class="slider">
                    <span id="termite-speed-value">30 steps/s</span>
                </div>
            </div>
            
            <!-- Langton's Ant specific controls -->
            <div id="langton-controls" class="simulation-controls" style="display: none;">
                <div class="control-group">
                    <label for="langton-speed-slider">Speed:</label>
                    <input type="range" id="langton-speed-slider" min="1" max="60" value="30" class="slider">
                    <span id="langton-speed-value">30 steps/s</span>
                </div>
            </div>
        </div>

        <!-- Reset, Clear, Random buttons (top) -->
        <div id="action-container" class="control-group dynamic-position">
            <button id="reset-btn" class="btn secondary">Reset</button>
            <button id="clear-btn" class="btn secondary">Clear</button>
            
            <!-- Conway's Game of Life specific buttons -->
            <button id="random-btn" class="btn secondary" style="display: none;">Random</button>
            
            <!-- Termite Algorithm specific buttons -->
            <button id="termite-random-btn" class="btn secondary" style="display: none;">Random</button>
            
            <!-- Langton's Ant specific buttons -->
            <button id="langton-random-btn" class="btn secondary" style="display: none;">Random</button>
            <button id="add-ant-btn" class="btn secondary" style="display: none;">Add Ant</button>
        </div>

        <!-- Immersive Mode and Brightness controls (top) -->
        <div id="display-container" class="control-group dynamic-position">
            <button id="immersive-btn" class="btn secondary">Immersive Mode</button>
            
            <!-- Brightness Control -->
            <div class="brightness-control">
                <div class="control-group">
                    <label for="brightness-slider">Brightness:</label>
                    <input type="range" id="brightness-slider" min="0.1" max="2.0" step="0.1" value="1.0" class="slider">
                    <span id="brightness-value">100%</span>
                </div>
            </div>
        </div>

        <!-- Learn button (top-right) -->
        <div id="learn-container" class="control-group top-right">
            <button id="learn-btn" class="btn secondary" style="display: none;">Learn</button>
        </div>

        <!-- Generation and Cells display (bottom-left) -->
        <div id="stats-container" class="control-group bottom-left">
            <div class="status-info">
                <span id="generation-label">Generation:</span>
                <span id="generation-count">0</span>
                <span id="cell-count-label">Cells:</span>
                <span id="cell-count">0</span>
            </div>
        </div>

        <!-- FPS display (bottom-right) -->
        <div id="fps-container" class="control-group bottom-right">
            <div class="status-info">
                <span id="fps-label">FPS:</span>
                <span id="fps">0</span>
            </div>
        </div>

        <!-- Canvas container -->
        <main id="main">
            <canvas id="canvas"></canvas>
        </main>
    </div>

    <!-- Immersive mode exit hint -->
    <div id="immersive-hint" class="immersive-hint">
        <span>Press <kbd>Escape</kbd> to exit immersive mode</span>
    </div>

    <!-- Conway's Game of Life Learn Modal -->
    <div id="conway-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Conway's Game of Life</h2>
                <button class="modal-close" id="conway-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <h3>Rules</h3>
                <p>Conway's Game of Life is a cellular automaton with simple rules:</p>
                <ul>
                    <li><strong>Birth:</strong> A dead cell with exactly 3 live neighbours becomes alive</li>
                    <li><strong>Survival:</strong> A live cell with 2 or 3 live neighbours stays alive</li>
                    <li><strong>Death:</strong> A live cell with fewer than 2 or more than 3 neighbours dies</li>
                </ul>
                
                <h3>Common Patterns</h3>
                <ul>
                    <li><strong>Still Life:</strong> Patterns that don't change (e.g., Block, Beehive)</li>
                    <li><strong>Oscillators:</strong> Patterns that repeat after a few generations (e.g., Blinker, Toad)</li>
                    <li><strong>Spaceships:</strong> Patterns that move across the grid (e.g., Glider)</li>
                </ul>
                
                <h3>Historical Context</h3>
                <p>Conway's Game of Life was created by mathematician John Conway in 1970. It was designed to demonstrate how complex patterns could emerge from simple rules, and it became one of the most famous examples of cellular automata. The game has inspired research in:</p>
                <ul>
                    <li>Artificial life and emergent behaviour</li>
                    <li>Computational complexity and universality</li>
                    <li>Pattern formation in nature and mathematics</li>
                    <li>Self-replicating systems and evolution</li>
                </ul>
                
                <h3>How to Use</h3>
                <p>Click on the grid to toggle cells between alive and dead states. Use the controls to start, pause, and reset the simulation.</p>
            </div>
        </div>
    </div>

    <!-- Termite Algorithm Learn Modal -->
    <div id="termite-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Termite Algorithm</h2>
                <button class="modal-close" id="termite-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <h3>How It Works</h3>
                <p>The Termite Algorithm demonstrates emergent behaviour through simple rules:</p>
                <ul>
                    <li><strong>Movement:</strong> Termites move randomly across the grid</li>
                    <li><strong>Pick Up:</strong> If a termite encounters a wood chip and isn't carrying one, it picks it up</li>
                    <li><strong>Drop:</strong> If a termite is carrying a chip and encounters an empty space, it drops the chip</li>
                    <li><strong>Direction:</strong> Termites occasionally change direction randomly</li>
                </ul>
                
                <h3>Emergent Behaviour</h3>
                <p>Despite simple individual rules, termites collectively create organised patterns:</p>
                <ul>
                    <li><strong>Clustering:</strong> Wood chips gradually form clusters</li>
                    <li><strong>Self-Organisation:</strong> Random distribution becomes structured over time</li>
                    <li><strong>Stability:</strong> Once clusters form, they tend to remain stable</li>
                </ul>
                
                <h3>Real-World Applications</h3>
                <p>This algorithm has inspired research in:</p>
                <ul>
                    <li>Swarm robotics and collective behaviour</li>
                    <li>Resource distribution and optimisation</li>
                    <li>Self-organising systems and emergent intelligence</li>
                </ul>
                
                <h3>Controls</h3>
                <p>Use the speed slider to control termite movement speed, the termites slider to adjust the number of termites, and the random button to create a new random distribution of wood chips.</p>
            </div>
        </div>
    </div>

    <!-- Langton's Ant Learn Modal -->
    <div id="langton-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Langton's Ant</h2>
                <button class="modal-close" id="langton-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <h3>Rules</h3>
                <p>Langton's Ant follows simple rules that create complex emergent behaviour:</p>
                <ul>
                    <li><strong>White Cell:</strong> Turn 90° right, flip the cell to black, move forward</li>
                    <li><strong>Black Cell:</strong> Turn 90° left, flip the cell to white, move forward</li>
                    <li><strong>Movement:</strong> The ant always moves one cell in the direction it's facing</li>
                </ul>
                
                <h3>Highway Formation</h3>
                <p>After an initial chaotic period, the ant typically forms a "highway" pattern:</p>
                <ul>
                    <li><strong>Chaotic Phase:</strong> The ant moves in seemingly random patterns</li>
                    <li><strong>Highway Phase:</strong> The ant creates a repeating diagonal pattern</li>
                    <li><strong>Predictability:</strong> Once the highway forms, the ant's path becomes predictable</li>
                </ul>
                
                <h3>Mathematical Significance</h3>
                <p>Langton's Ant demonstrates important concepts in:</p>
                <ul>
                    <li><strong>Emergence:</strong> Complex patterns from simple rules</li>
                    <li><strong>Deterministic Chaos:</strong> Predictable rules creating unpredictable initial behaviour</li>
                    <li><strong>Self-Organisation:</strong> Order emerging from disorder</li>
                    <li><strong>Computational Universality:</strong> The ant can simulate a Turing machine</li>
                </ul>
                
                <h3>Controls</h3>
                <p>Use the speed slider to control ant movement speed, the Add Ant button (or press 'a') to add new ants, and the random button to create a random pattern of white and black cells.</p>
            </div>
        </div>
    </div>

    <script src="i18n.js"></script>
    <script src="simulations.js"></script>
    <script src="app.js"></script>
</body>
</html> 